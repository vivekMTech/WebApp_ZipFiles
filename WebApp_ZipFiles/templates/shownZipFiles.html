{% extends "base.html" %}

{% block title %}
Shown Files from Zip
{% endblock %}

{% block script %}
<script type="text/javascript">
function download_all(files){
    files.forEach((file) => {
        for(var i=0; i<file.length; i++){
            alert(file[i])
        }
    })
}
</script>
{% endblock %}

{% block header %}
Shown Files from Zip
{% endblock %}

{% block content %}

<div style="margin:1% 0% 1% 0%; font-size:22px; margin-left:5%; float:left" >
    <a class="text-dark" href="{{ url_for('upload_route') }}">Back to Upload!</a>
</div>

<div style="margin:1% 0% 1% 0%; font-size:22px; margin-right:5%; float:right">
    <a class="text-dark" href="#" onclick=download_all({{ files }})>Download All!</a>
</div>

<div style="margin: 1% 5% 0% 5%;">
    <table class="table table-hover">
        <thead>
            <tr>
                <th scope="col">Filename</th>
                <th scope="col">Download</th>
            </tr>
        </thead>
        <tbody>
            {% for file in files %}
                {% for f in range(file|length) %}
                <tr>
                    <td>{{ file[f] }}</td>
                    <td><a href="{{ url_for('download_file', file_name=file[f]) }}">Click Here!</a></td>
                </tr>
            {% endfor %}
        {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
